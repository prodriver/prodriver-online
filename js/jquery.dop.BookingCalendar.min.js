(function(a){a.fn.DOPBookingCalendar=function(f){var h={Type:"BackEnd",DataURL:"BookingCalendar/php/load.php",SaveURL:"BookingCalendar/php/save.php",DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],AvailableText:"AVAILABLE",BookedText:"BOOKED",UnavailableText:"NOT AVAILABLE",DateType:1,PopupDisplayTime:300,StatusLabel:"Status",PriceLabel:"Price",Currency:"$",SubmitBtnText:"Submit",ResetBtnText:"Reset",ExitBtnText:"Exit",InvalidPriceText:"Error! Please enter a number for the price."},c,x=this,l=new Array(),B=new Date(),n=B.getFullYear(),j=B.getMonth()+1,t=B.getDate(),E=n,q=j,D=new Array(),p=new Array(),v,A,u,g,y,k,d,i,b,z,w,o,m,s,r=false,C={init:function(){c=e.randomString(16);return this.each(function(){if(f){a.extend(h,f)}C.parseData()})},parseData:function(){D=h.DayNames;p=h.MonthNames;v=h.AvailableText;A=h.BookedText;u=h.UnavailableText;g=h.DateType;y=h.PopupDisplayTime;k=h.StatusLabel;d=h.PriceLabel;i=h.Currency;b=h.SubmitBtnText;z=h.ResetBtnText;w=h.ExitBtnText;o=h.InvalidPriceText;a.get(h.DataURL,{},function(F){if(F!=""){l=F.split(",")}if(h.Type=="BackEnd"){C.initBackendBookingCalendar()}else{C.initFrontendBookingCalendar()}})},initBackendBookingCalendar:function(){var F=new Array();F.push('<div class="DOP_BackendBookingCalendar_Container">');F.push('   <div class="DOP_BackendBookingCalendar_PopUp">');F.push('       <div class="bg"></div>');F.push('       <div class="window">');F.push('           <span class="start-date"></span>');F.push('           <span class="end-date"></span>');F.push('           <br style="clear:both;" />');F.push('           <label class="label" for="'+c+'-availability">'+k+"</label>");F.push('           <select name="'+c+'-status" id="'+c+'-status" class="select-style">');F.push('               <option value="0" id="'+c+'-no-status"></option>');F.push('               <option value="1">'+v+"</option>");F.push('               <option value="2">'+A+"</option>");F.push('               <option value="3">'+u+"</option>");F.push("           </select>");F.push('           <label class="label" for="'+c+'-price">'+d+" ("+i+")</label>");F.push('           <input type="text" name="'+c+'-price" id="'+c+'-price" class="input-style" value="" />');F.push('           <span class="buttons_container">');F.push('               <input type="button" name="'+c+'-submit" id="'+c+'-submit" class="button-style" value="'+b+'" />');F.push('               <input type="button" name="'+c+'-reset" id="'+c+'-reset" class="button-style" value="'+z+'" />');F.push('               <input type="button" name="'+c+'-exit" id="'+c+'-exit" class="button-style" value="'+w+'" />');F.push('               <span class="loader"></span>');F.push("           </span>");F.push("       </div>");F.push("   </div>");F.push('   <div class="DOP_BackendBookingCalendar_Navigation">');F.push('       <div class="previous_btn disabled"><div class="icon"></div></div>');F.push('       <div class="next_btn"><div class="icon"></div></div>');F.push('       <div class="month_year"></div>');F.push('       <div class="week">');F.push('         <div class="day">'+D[1]+"</div>");F.push('         <div class="day">'+D[2]+"</div>");F.push('         <div class="day">'+D[3]+"</div>");F.push('         <div class="day">'+D[4]+"</div>");F.push('         <div class="day">'+D[5]+"</div>");F.push('         <div class="day">'+D[6]+"</div>");F.push('         <div class="day">'+D[0]+'</div><br style="clear:both;" />');F.push("       </div>");F.push("   </div>");F.push('   <div class="DOP_BackendBookingCalendar_Calendar"></div>');F.push("</div>");x.html(F.join(""));C.initBackendSettings()},initBackendSettings:function(){C.initBackendContainer();C.initBackendNavigation();C.initBackendCalendar();C.initBackendPopUp()},initBackendContainer:function(){a(".DOP_BackendBookingCalendar_Container",x).width(x.width());a(".DOP_BackendBookingCalendar_Container",x).height(x.height())},initBackendNavigation:function(){a(".DOP_BackendBookingCalendar_Navigation .week .day",x).width(parseInt((x.width()-(parseInt(a(".DOP_BackendBookingCalendar_Navigation .week .day",x).css("margin-left"))+parseInt(a(".DOP_BackendBookingCalendar_Navigation .week .day",x).css("margin-right")))*7)/7));a(".DOP_BackendBookingCalendar_Navigation .previous_btn",x).click(function(){var F=a(this);if(!F.hasClass("disabled")){a(".DOP_BackendBookingCalendar_Calendar",x).html("");C.initBackendMonth(n,q-1);if(q==j){F.addClass("disabled")}}});a(".DOP_BackendBookingCalendar_Navigation .next_btn",x).click(function(){a(".DOP_BackendBookingCalendar_Calendar",x).html("");C.initBackendMonth(n,q+1);a(".DOP_BackendBookingCalendar_Navigation .previous_btn",x).removeClass("disabled")})},initBackendCalendar:function(){C.initBackendMonth(n,j)},initBackendMonth:function(Q,O){var M,L,P,G,U,T,H,S=0,J=new Date(Q,O,0).getDate(),K=new Date(Q,O-1,0).getDate(),F=new Date(Q,O-1,1).getDay(),R=new Date(Q,O-1,J).getDay(),I,N;E=new Date(Q,O,0).getFullYear();q=O;a(".DOP_BackendBookingCalendar_Navigation .month_year",x).html(p[new Date(Q,O,0).getMonth()]+" "+E);a(".DOP_BackendBookingCalendar_Calendar",x).html('<div class="DOP_BackendBookingCalendar_Month"></div>');if(F==0){H=7}else{H=F}for(M=H-1;M>=1;M--){S++;P=new Date(Q,O-2,K-M+1);G=P.getFullYear();U=e.longMonth(P.getMonth()+1);T=e.longDay(P.getDate());I="";N="";for(L=0;L<l.length;L++){if(l[L].split(";;")[0]==G+"-"+U+"-"+T){I=l[L].split(";;")[1];N=l[L].split(";;")[2]}}if(j==O){a(".DOP_BackendBookingCalendar_Month",x).append(C.initBackendDay("past_day",G,U,T,P.getDate(),"",""))}else{a(".DOP_BackendBookingCalendar_Month",x).append(C.initBackendDay("last_month",G,U,T,P.getDate(),I,N))}}for(M=1;M<=J;M++){S++;P=new Date(Q,O-1,M);G=P.getFullYear();U=e.longMonth(P.getMonth()+1);T=e.longDay(P.getDate());I="";N="";for(L=0;L<l.length;L++){if(l[L].split(";;")[0]==G+"-"+U+"-"+T){I=l[L].split(";;")[1];N=l[L].split(";;")[2]}}if(j==O&&t>P.getDate()){a(".DOP_BackendBookingCalendar_Month",x).append(C.initBackendDay("past_day",G,U,T,P.getDate(),"",""))}else{a(".DOP_BackendBookingCalendar_Month",x).append(C.initBackendDay("curr_month",G,U,T,P.getDate(),I,N))}}if(S+7<42){for(M=1;M<=14-R;M++){P=new Date(Q,O,M);G=P.getFullYear();U=e.longMonth(P.getMonth()+1);T=e.longDay(P.getDate());I="";N="";for(L=0;L<l.length;L++){if(l[L].split(";;")[0]==G+"-"+U+"-"+T){I=l[L].split(";;")[1];N=l[L].split(";;")[2]}}a(".DOP_BackendBookingCalendar_Month",x).append(C.initBackendDay("next_month",G,U,T,P.getDate(),I,N))}}else{for(M=1;M<=7-R;M++){P=new Date(Q,O,M);G=P.getFullYear();U=e.longMonth(P.getMonth()+1);T=e.longDay(P.getDate());I="";N="";for(L=0;L<l.length;L++){if(l[L].split(";;")[0]==G+"-"+U+"-"+T){I=l[L].split(";;")[1];N=l[L].split(";;")[2]}}a(".DOP_BackendBookingCalendar_Month",x).append(C.initBackendDay("next_month",G,U,T,P.getDate(),I,N))}}a(".DOP_BackendBookingCalendar_Month",x).width(x.width());a(".DOP_BackendBookingCalendar_Month",x).height(x.height());a(".DOP_BackendBookingCalendar_Day",x).width(parseInt((x.width()-(parseInt(a(".DOP_BackendBookingCalendar_Day",x).css("margin-left"))+parseInt(a(".DOP_BackendBookingCalendar_Day",x).css("margin-right")))*7)/7));a(".DOP_BackendBookingCalendar_Day",x).height(parseInt((x.height()-a(".DOP_BackendBookingCalendar_Navigation",x).height()-(parseInt(a(".DOP_BackendBookingCalendar_Day",x).css("margin-top"))+parseInt(a(".DOP_BackendBookingCalendar_Day",x).css("margin-bottom")))*6)/6));a(".content",".DOP_BackendBookingCalendar_Day",x).css("line-height",(a(".DOP_BackendBookingCalendar_Day",x).height()-a(".header",".DOP_BackendBookingCalendar_Day",x).height()-parseInt(a(".header",".DOP_BackendBookingCalendar_Day",x).css("padding-top"))-parseInt(a(".header",".DOP_BackendBookingCalendar_Day",x).css("padding-bottom")))+"px");a(".content",".DOP_BackendBookingCalendar_Day",x).height(a(".DOP_BackendBookingCalendar_Day",x).height()-a(".header",".DOP_BackendBookingCalendar_Day",x).height()-parseInt(a(".header",".DOP_BackendBookingCalendar_Day",x).css("padding-top"))-parseInt(a(".header",".DOP_BackendBookingCalendar_Day",x).css("padding-bottom")));C.initBackendEvents()},initBackendDay:function(L,F,O,N,K,H,J){var M=Array(),G="&nbsp;",I;if(H==1){G=v;L+=" available"}else{if(H==2){G=A;L+=" booked"}else{if(H==3){G=u;L+=" unavailable"}}}if(J==""){I=""}else{I=i+" "+J}M.push('<div class="DOP_BackendBookingCalendar_Day '+L+'" id="'+c+"_"+F+"-"+O+"-"+N+'">');M.push('    <span class="header"><span class="day">'+K+'</span><span class="price">'+I+'</span><br style="clear:both;" /></span>');M.push('    <span class="content">'+G+"</span>");M.push("    </span>");M.push("</div>");return M.join("")},initBackendEvents:function(){a(".DOP_BackendBookingCalendar_Day",x).click(function(){var F=a(this);if(!F.hasClass("past_day")){if(!r){r=true;m=F.attr("id")}else{r=false;s=F.attr("id");C.showBackendPopUp()}C.initBackendSelection(F.attr("id"))}});a(".DOP_BackendBookingCalendar_Day",x).hover(function(){var F=a(this);if(r){C.initBackendSelection(F.attr("id"))}})},initBackendSelection:function(F){a(".DOP_BackendBookingCalendar_Day",x).removeClass("selected");if(F<m){a(".DOP_BackendBookingCalendar_Day",x).each(function(){var G=a(this);if(G.attr("id")>=F&&G.attr("id")<=m&&!G.hasClass("past_day")){G.addClass("selected")}})}else{a(".DOP_BackendBookingCalendar_Day",x).each(function(){var G=a(this);if(G.attr("id")>=m&&G.attr("id")<=F&&!G.hasClass("past_day")){G.addClass("selected")}})}},initBackendPopUp:function(){a(".DOP_BackendBookingCalendar_PopUp",x).css("display","block");a(".DOP_BackendBookingCalendar_PopUp",x).width(x.width());a(".DOP_BackendBookingCalendar_PopUp",x).height(x.height());a(".DOP_BackendBookingCalendar_PopUp .bg",x).width(a(".DOP_BackendBookingCalendar_PopUp",x).width());a(".DOP_BackendBookingCalendar_PopUp .bg",x).height(a(".DOP_BackendBookingCalendar_PopUp",x).height());a(".DOP_BackendBookingCalendar_PopUp .window",x).css("margin-left",(a(".DOP_BackendBookingCalendar_PopUp",x).width()-a(".DOP_BackendBookingCalendar_PopUp .window",x).width())/2);a(".DOP_BackendBookingCalendar_PopUp .window",x).css("margin-top",(a(".DOP_BackendBookingCalendar_PopUp",x).height()-a(".DOP_BackendBookingCalendar_PopUp .window",x).height())/2);a(".DOP_BackendBookingCalendar_PopUp",x).css("display","none");a("#"+c+"-submit").click(function(){if(e.validateCharacters(a("#"+c+"-price").val(),"0123456789")){C.setBackendData()}else{alert(o)}});a("#"+c+"-reset").click(function(){C.resetBackendPopUp()});a("#"+c+"-exit").click(function(){C.hideBackendPopUp()})},showBackendPopUp:function(){var H,F,N,G,O,M,I,J,L,K;if(m>s){M=m.split("_")[1];H=s.split("_")[1]}else{H=m.split("_")[1];M=s.split("_")[1]}F=H.split("-")[0],N=H.split("-")[1],G=p[parseInt(N,10)-1],O=H.split("-")[2];I=M.split("-")[0],J=M.split("-")[1],L=p[parseInt(J,10)-1],K=M.split("-")[2];if(g==1){a(".DOP_BackendBookingCalendar_PopUp .window .start-date",x).html(G+" "+O+", "+F)}else{a(".DOP_BackendBookingCalendar_PopUp .window .start-date",x).html(O+" "+G+" "+F)}if(m!=s){if(g==1){a(".DOP_BackendBookingCalendar_PopUp .window .end-date",x).html(L+" "+K+", "+I)}else{a(".DOP_BackendBookingCalendar_PopUp .window .end-date",x).html(K+" "+L+" "+I)}}else{a(".DOP_BackendBookingCalendar_PopUp .window .end-date",x).html("")}a(".DOP_BackendBookingCalendar_PopUp",x).stop(true,true).fadeIn(y,function(){})},setBackendData:function(){a(".DOP_BackendBookingCalendar_PopUp .window .loader",x).css("display","block");var Y=new Array(),ab=new Array,O=new Array(),S=l,W,N,T,aa,R,P=n+"-"+e.longMonth(j)+"-"+e.longDay(t),H,U,M,J,X,F,Q,G,Z,L,K,I,V;if(a("#"+c+"-price").val()==""){V=0}else{V=parseInt(a("#"+c+"-price").val(),10)}if(m>s){X=m.split("_")[1];H=s.split("_")[1]}else{H=m.split("_")[1];X=s.split("_")[1]}U=parseInt(H.split("-")[0],10);M=parseInt(H.split("-")[1],10);J=parseInt(H.split("-")[2],10);F=parseInt(X.split("-")[0],10);Q=parseInt(X.split("-")[1],10);G=parseInt(X.split("-")[2],10);for(W=0;W<S.length;W++){if(S[W].split(";;")[0]>=P){if(S[W].split(";;")[0]<H){ab.push(S[W])}else{if(S[W].split(";;")[0]>X){O.push(S[W])}}}}for(N=U;N<=F;N++){Z=1;if(N==U){Z=M}L=12;if(N==F){L=Q}for(T=Z;T<=L;T++){R=new Date(N,T,0).getDate();K=1;if(N==U&&T==M){K=J}I=R;if(N==F&&T==Q){I=G}for(aa=K;aa<=I;aa++){if(a("#"+c+"-status").val()!=0){Y.push(N+"-"+e.longMonth(T)+"-"+e.longDay(aa)+";;"+a("#"+c+"-status").val()+";;"+V)}}}}l=[];if(ab.length>0){l=ab.concat(Y,O)}else{l=Y.concat(O)}a(".DOP_BackendBookingCalendar_Day",x).each(function(){var ac=a(this);if(ac.hasClass("selected")){ac.removeClass("available").removeClass("booked").removeClass("unavailable");if(a("#"+c+"-status").val()==1){ac.addClass("available");a(".price",this).html(i+" "+V);a(".content",this).html(v)}else{if(a("#"+c+"-status").val()==2){ac.addClass("booked");a(".price",this).html(i+" "+V);a(".content",this).html(A)}else{if(a("#"+c+"-status").val()==3){ac.addClass("unavailable");a(".price",this).html(i+" "+V);a(".content",this).html(u)}else{a(".price",this).html("");a(".content",this).html("&nbsp;")}}}}});C.saveBackendData()},saveBackendData:function(){a.post(h.SaveURL,{dop_booking_calendar:l.join(",")},function(F){C.hideBackendPopUp()})},resetBackendPopUp:function(){a("#"+c+"-no-status").attr("selected","selected");a("#"+c+"-price").val("");C.setBackendData()},hideBackendPopUp:function(){a(".DOP_BackendBookingCalendar_PopUp .window .loader",x).css("display","none");a(".DOP_BackendBookingCalendar_Day",x).removeClass("selected");a(".DOP_BackendBookingCalendar_PopUp",x).stop(true,true).fadeOut(y,function(){})},initFrontendBookingCalendar:function(){var F=new Array();F.push('<div class="DOP_FrontendBookingCalendar_Container">');F.push('   <div class="DOP_FrontendBookingCalendar_Navigation">');F.push('       <div class="previous_btn disabled"><div class="icon"></div></div>');F.push('       <div class="next_btn"><div class="icon"></div></div>');F.push('       <div class="month_year"></div>');F.push('       <div class="week">');F.push('         <div class="day">'+D[1]+"</div>");F.push('         <div class="day">'+D[2]+"</div>");F.push('         <div class="day">'+D[3]+"</div>");F.push('         <div class="day">'+D[4]+"</div>");F.push('         <div class="day">'+D[5]+"</div>");F.push('         <div class="day">'+D[6]+"</div>");F.push('         <div class="day">'+D[0]+'</div><br style="clear:both;" />');F.push("       </div>");F.push("   </div>");F.push('   <div class="DOP_FrontendBookingCalendar_Calendar"></div>');F.push("</div>");x.html(F.join(""));C.initFrontendSettings()},initFrontendSettings:function(){C.initFrontendContainer();C.initFrontendNavigation();C.initFrontendCalendar()},initFrontendContainer:function(){a(".DOP_FrontendBookingCalendar_Container",x).width(x.width());a(".DOP_FrontendBookingCalendar_Container",x).height(x.height())},initFrontendNavigation:function(){a(".DOP_FrontendBookingCalendar_Navigation .week .day",x).width(parseInt((x.width()-(parseInt(a(".DOP_FrontendBookingCalendar_Navigation .week .day",x).css("margin-left"))+parseInt(a(".DOP_FrontendBookingCalendar_Navigation .week .day",x).css("margin-right")))*7)/7));a(".DOP_FrontendBookingCalendar_Navigation .previous_btn",x).click(function(){var F=a(this);if(!F.hasClass("disabled")){a(".DOP_FrontendBookingCalendar_Calendar",x).html("");C.initFrontendMonth(n,q-1);if(q==j){F.addClass("disabled")}}});a(".DOP_FrontendBookingCalendar_Navigation .next_btn",x).click(function(){a(".DOP_FrontendBookingCalendar_Calendar",x).html("");C.initFrontendMonth(n,q+1);a(".DOP_FrontendBookingCalendar_Navigation .previous_btn",x).removeClass("disabled")})},initFrontendCalendar:function(){C.initFrontendMonth(n,j)},initFrontendMonth:function(Q,O){var M,L,P,G,U,T,H,S=0,J=new Date(Q,O,0).getDate(),K=new Date(Q,O-1,0).getDate(),F=new Date(Q,O-1,1).getDay(),R=new Date(Q,O-1,J).getDay(),I,N;E=new Date(Q,O,0).getFullYear();q=O;a(".DOP_FrontendBookingCalendar_Navigation .month_year",x).html(p[new Date(Q,O,0).getMonth()]+" "+E);a(".DOP_FrontendBookingCalendar_Calendar",x).html('<div class="DOP_FrontendBookingCalendar_Month"></div>');if(F==0){H=7}else{H=F}for(M=H-1;M>=1;M--){S++;P=new Date(Q,O-2,K-M+1);G=P.getFullYear();U=e.longMonth(P.getMonth()+1);T=e.longDay(P.getDate());I="";N="";for(L=0;L<l.length;L++){if(l[L].split(";;")[0]==G+"-"+U+"-"+T){I=l[L].split(";;")[1];N=l[L].split(";;")[2]}}if(j==O){a(".DOP_FrontendBookingCalendar_Month",x).append(C.initFrontendDay("past_day",G,U,T,P.getDate(),"",""))}else{a(".DOP_FrontendBookingCalendar_Month",x).append(C.initFrontendDay("last_month",G,U,T,P.getDate(),I,N))}}for(M=1;M<=J;M++){S++;P=new Date(Q,O-1,M);G=P.getFullYear();U=e.longMonth(P.getMonth()+1);T=e.longDay(P.getDate());I="";N="";for(L=0;L<l.length;L++){if(l[L].split(";;")[0]==G+"-"+U+"-"+T){I=l[L].split(";;")[1];N=l[L].split(";;")[2]}}if(j==O&&t>P.getDate()){a(".DOP_FrontendBookingCalendar_Month",x).append(C.initFrontendDay("past_day",G,U,T,P.getDate(),"",""))}else{a(".DOP_FrontendBookingCalendar_Month",x).append(C.initFrontendDay("curr_month",G,U,T,P.getDate(),I,N))}}if(S+7<42){for(M=1;M<=14-R;M++){P=new Date(Q,O,M);G=P.getFullYear();U=e.longMonth(P.getMonth()+1);T=e.longDay(P.getDate());I="";N="";for(L=0;L<l.length;L++){if(l[L].split(";;")[0]==G+"-"+U+"-"+T){I=l[L].split(";;")[1];N=l[L].split(";;")[2]}}a(".DOP_FrontendBookingCalendar_Month",x).append(C.initFrontendDay("next_month",G,U,T,P.getDate(),I,N))}}else{for(M=1;M<=7-R;M++){P=new Date(Q,O,M);G=P.getFullYear();U=e.longMonth(P.getMonth()+1);T=e.longDay(P.getDate());I="";N="";for(L=0;L<l.length;L++){if(l[L].split(";;")[0]==G+"-"+U+"-"+T){I=l[L].split(";;")[1];N=l[L].split(";;")[2]}}a(".DOP_FrontendBookingCalendar_Month",x).append(C.initFrontendDay("next_month",G,U,T,P.getDate(),I,N))}}a(".DOP_FrontendBookingCalendar_Month",x).width(x.width());a(".DOP_FrontendBookingCalendar_Month",x).height(x.height());a(".DOP_FrontendBookingCalendar_Day",x).width(parseInt((x.width()-(parseInt(a(".DOP_FrontendBookingCalendar_Day",x).css("margin-left"))+parseInt(a(".DOP_FrontendBookingCalendar_Day",x).css("margin-right")))*7)/7));a(".DOP_FrontendBookingCalendar_Day",x).height(parseInt((x.height()-a(".DOP_FrontendBookingCalendar_Navigation",x).height()-(parseInt(a(".DOP_FrontendBookingCalendar_Day",x).css("margin-top"))+parseInt(a(".DOP_FrontendBookingCalendar_Day",x).css("margin-bottom")))*6)/6));a(".content",".DOP_FrontendBookingCalendar_Day",x).css("line-height",(a(".DOP_FrontendBookingCalendar_Day",x).height()-a(".header",".DOP_FrontendBookingCalendar_Day",x).height()-parseInt(a(".header",".DOP_FrontendBookingCalendar_Day",x).css("padding-top"))-parseInt(a(".header",".DOP_FrontendBookingCalendar_Day",x).css("padding-bottom")))+"px");a(".content",".DOP_FrontendBookingCalendar_Day",x).height(a(".DOP_FrontendBookingCalendar_Day",x).height()-a(".header",".DOP_FrontendBookingCalendar_Day",x).height()-parseInt(a(".header",".DOP_FrontendBookingCalendar_Day",x).css("padding-top"))-parseInt(a(".header",".DOP_FrontendBookingCalendar_Day",x).css("padding-bottom")))},initFrontendDay:function(L,F,O,N,K,H,J){var M=Array(),G="&nbsp;",I;if(H==1){G=v;L+=" available"}else{if(H==2){G=A;L+=" booked"}else{if(H==3){G=u;L+=" unavailable"}}}if(J==""){I=""}else{I=i+" "+J}M.push('<div class="DOP_FrontendBookingCalendar_Day '+L+'" id="'+c+"_"+F+"-"+O+"-"+N+'">');M.push('    <span class="header"><span class="day">'+K+'</span><span class="price">'+I+'</span><br style="clear:both;" /></span>');M.push('    <span class="content">'+G+"</span>");M.push("    </span>");M.push("</div>");return M.join("")}},e={resizeItem:function(M,H,J,F,G,K,L){var I=0,N=0;if(G<=J&&K<=F){I=G;N=K}else{N=F;I=(G*F)/K;if(I>J){I=J;N=(K*J)/G}}H.width(I);H.height(N);switch(L.toLowerCase()){case"top":e.topItem(M,H,F);break;case"bottom":e.bottomItem(M,H,F);break;case"left":e.leftItem(M,H,J);break;case"right":e.rightItem(M,H,J);break;case"horizontal-center":e.hCenterItem(M,H,J);break;case"vertical-center":e.vCenterItem(M,H,F);break;case"center":e.centerItem(M,H,J,F);break;case"top-left":e.tlItem(M,H,J,F);break;case"top-center":e.tcItem(M,H,J,F);break;case"top-right":e.trItem(M,H,J,F);break;case"middle-left":e.mlItem(M,H,J,F);break;case"middle-right":e.mrItem(M,H,J,F);break;case"bottom-left":e.blItem(M,H,J,F);break;case"bottom-center":e.bcItem(M,H,J,F);break;case"bottom-right":e.brItem(M,H,J,F);break}},resizeItem2:function(M,H,J,F,G,K,L){var I=0,N=0;N=F;I=(G*F)/K;if(I<J){I=J;N=(K*J)/G}H.width(I);H.height(N);switch(L.toLowerCase()){case"top":e.topItem(M,H,F);break;case"bottom":e.bottomItem(M,H,F);break;case"left":e.leftItem(M,H,J);break;case"right":e.rightItem(M,H,J);break;case"horizontal-center":e.hCenterItem(M,H,J);break;case"vertical-center":e.vCenterItem(M,H,F);break;case"center":e.centerItem(M,H,J,F);break;case"top-left":e.tlItem(M,H,J,F);break;case"top-center":e.tcItem(M,H,J,F);break;case"top-right":e.trItem(M,H,J,F);break;case"middle-left":e.mlItem(M,H,J,F);break;case"middle-right":e.mrItem(M,H,J,F);break;case"bottom-left":e.blItem(M,H,J,F);break;case"bottom-center":e.bcItem(M,H,J,F);break;case"bottom-right":e.brItem(M,H,J,F);break}},topItem:function(G,H,F){G.height(F);H.css("margin-top",0)},bottomItem:function(G,H,F){G.height(F);H.css("margin-top",F-H.height())},leftItem:function(G,H,F){G.width(F);H.css("margin-left",0)},rightItem:function(G,H,F){G.width(F);H.css("margin-left",G.width()-H.width())},hCenterItem:function(G,H,F){G.width(F);H.css("margin-left",(F-H.width())/2)},vCenterItem:function(G,H,F){G.height(F);H.css("margin-top",(F-H.height())/2)},centerItem:function(H,I,F,G){e.hCenterItem(H,I,F);e.vCenterItem(H,I,G)},tlItem:function(H,I,F,G){e.topItem(H,I,G);e.leftItem(H,I,F)},tcItem:function(H,I,F,G){e.topItem(H,I,G);e.hCenterItem(H,I,F)},trItem:function(H,I,F,G){e.topItem(H,I,G);e.rightItem(H,I,F)},mlItem:function(H,I,F,G){e.vCenterItem(H,I,G);e.leftItem(H,I,F)},mrItem:function(H,I,F,G){e.vCenterItem(H,I,G);e.rightItem(H,I,F)},blItem:function(H,I,F,G){e.bottomItem(H,I,G);e.leftItem(H,I,F)},bcItem:function(H,I,F,G){e.bottomItem(H,I,G);e.hCenterItem(H,I,F)},brItem:function(H,I,F,G){e.bottomItem(H,I,G);e.rightItem(H,I,F)},longMonth:function(F){if(F<10){return"0"+F}else{return F}},longDay:function(F){if(F<10){return"0"+F}else{return F}},randomize:function(F){F.sort(function(){return 0.5-Math.random()});return F},randomString:function(J){var H="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",I="";for(var G=0;G<J;G++){var F=Math.floor(Math.random()*H.length);I+=H.substring(F,F+1)}return I},isIE8Browser:function(){var G=false,F=navigator.userAgent.toLowerCase();if(F.indexOf("msie 8")!=-1){G=true}return G},isTouchDevice:function(){var F=false,G=navigator.userAgent.toLowerCase();if(G.indexOf("android")!=-1){F=true}if(G.indexOf("blackberry")!=-1){F=true}if(G.indexOf("ipad")!=-1){F=true}if(G.indexOf("iphone")!=-1){F=true}if(G.indexOf("ipod")!=-1){F=true}if(G.indexOf("palm")!=-1){F=true}if(G.indexOf("series60")!=-1){F=true}if(G.indexOf("symbian")!=-1){F=true}if(G.indexOf("windows ce")!=-1){F=true}return F},openLink:function(F,G){if(G.toLowerCase()=="_blank"){window.open(F)}else{window.location=F}},validateCharacters:function(I,H){var F=I.split("");for(var G=0;G<F.length;G++){if(H.indexOf(F[G])==-1){return false}}return true}};return C.init.apply(this)}})(jQuery);